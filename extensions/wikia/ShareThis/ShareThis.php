<?php

/**
 * Adds ShareThis functionality to the wiki
 *
 * @author Lucas Garczewski <tor@wikia-inc.com>
 */

$wgHooks['SkinAfterBottomScripts'][] = 'efAddShareThisCode';
$wgHooks['MonacoAfterArticleLinks'][] = 'efAddShareThisButton';

function efAddShareThisCode( $skin, $text ) {
	// only available under Monaco
	if ( $skin->getSkinname() !== 'monaco' ) {
		return true;
	}

	// add code generated by SharThis customizing tool
	$text .= '<script type="text/javascript" src="http://w.sharethis.com/button/sharethis.js#publisher=2bd809aa-4af8-4c48-b603-ba3f455f5a32&amp;type=website&amp;send_services=email&amp;post_services=facebook%2Cstumbleupon%2Ctwitter%2Cdigg%2Creddit%2Ctechnorati%2Cblogger%2Cslashdot%2Cn4g%2Cdelicious%2Cwordpress%2Cybuzz"></script>';

	// hook must return a value
	return true;
}

function efAddShareThisButton( ) {
	echo '<li id="control_share"><span id="sharethis_0"></span></li>';

	return true;
}
